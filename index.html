<!doctype html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ゲームタスクマネージャー</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700;900&family=Orbitron:wght@400;700;900&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="./style.css" />
  </head>
  <body>
    <div class="container">
      <header class="header">
        <h1 class="title">GAME TASK MANAGER</h1>
        <p class="subtitle">原神 / ゼンレスゾーンゼロ / 崩壊スターレイル</p>
      </header>

      <!-- ゲーム選択タブ -->
      <div class="game-tabs">
        <button class="game-tab active" data-game="genshin">
          <span class="game-icon">⚔️</span>
          <span>原神</span>
        </button>
        <button class="game-tab" data-game="zzz">
          <span class="game-icon">🔫</span>
          <span>ゼンゼロ</span>
        </button>
        <button class="game-tab" data-game="hsr">
          <span class="game-icon">🚄</span>
          <span>崩スタ</span>
        </button>
      </div>

      <!-- メインコンテンツタブ -->
      <div class="content-tabs">
        <button class="content-tab" data-content="calendar">
          📅 カレンダー
        </button>
        <button class="content-tab active" data-content="daily">
          🌤 デイリー
        </button>
        <button class="content-tab" data-content="weekly">
          🌌 ウィークリー
        </button>
        <button class="content-tab" data-content="wishlist">💟 Wishlist</button>
        <button class="content-tab" data-content="events">🎉 イベント</button>
        <button class="content-tab" data-content="update-check">
          ❓ アプデ前
        </button>
      </div>

      <!-- リセットカウントダウン -->
      <div class="reset-info">
        <div class="reset-item">
          <span class="reset-label">デイリーリセットまで</span>
          <span class="reset-time" id="dailyResetTimer">--:--:--</span>
        </div>
        <div class="reset-item">
          <span class="reset-label">ウィークリーリセットまで</span>
          <span class="reset-time" id="weeklyResetTimer">--:--:--</span>
        </div>
      </div>

      <!-- コンテンツエリア -->
      <div class="content-area">
        <!-- カレンダー -->
        <div class="content-panel" id="calendar-panel">
          <div class="panel-header">
            <h2>📅 カレンダー</h2>
            <div class="calendar-nav">
              <button id="prevMonth">&lt;</button>
              <span id="currentMonth">2026年2月</span>
              <button id="nextMonth">&gt;</button>
            </div>
          </div>
          <div class="calendar-grid" id="calendarGrid"></div>
          <div class="calendar-events" id="calendarEvents"></div>
        </div>

        <!-- デイリータスク -->
        <div class="content-panel active" id="daily-panel">
          <div class="panel-header">
            <h2>🌤 デイリータスク</h2>
            <div class="progress-mini">
              <span id="dailyProgress">0/0</span>
            </div>
          </div>
          <div class="task-list" id="dailyTaskList"></div>
        </div>

        <!-- ウィークリータスク -->
        <div class="content-panel" id="weekly-panel">
          <div class="panel-header">
            <h2>🌌 ウィークリータスク</h2>
            <div class="progress-mini">
              <span id="weeklyProgress">0/0</span>
            </div>
          </div>
          <div class="task-list" id="weeklyTaskList"></div>

          <!-- 引継ぎタスク -->
          <div
            class="inherited-tasks"
            id="inheritedTasks"
            style="display: none"
          >
            <h3>📋 引継ぎタスク（BP対象外）</h3>
            <div class="task-list" id="inheritedTaskList"></div>
          </div>

          <!-- バトルパス進捗 -->
          <div class="bp-section">
            <div class="bp-header">
              <h3>紀行/バトルパス進捗</h3>
              <button class="btn-new-season" id="newSeasonBtn">
                🔄 新シーズン開始
              </button>
            </div>
            <div class="bp-info">
              <p class="bp-note">週間上限: 10,000 EXP（1レベル = 1,000 EXP）</p>
            </div>
            <div class="bp-controls">
              <label>現在のレベル:</label>
              <input
                type="number"
                id="bpCurrentLevel"
                min="0"
                max="70"
                value="0"
              />
              <label>週間獲得EXP:</label>
              <input
                type="number"
                id="bpWeeklyExp"
                min="0"
                max="10000"
                value="0"
              />
            </div>
            <div class="bp-progress-container">
              <div class="bp-progress-bar" id="bpProgressBar"></div>
              <span class="bp-progress-text" id="bpProgressText"
                >0 / 10,000 EXP</span
              >
            </div>
            <div class="bp-slider-container">
              <input
                type="range"
                id="bpSlider"
                min="0"
                max="10000"
                value="0"
                step="100"
              />
            </div>
          </div>
        </div>

        <!-- Wishlist -->
        <div class="content-panel" id="wishlist-panel">
          <div class="panel-header">
            <h2>💟 Wishlist</h2>
            <button class="btn-add" id="addWishBtn">+ 追加</button>
          </div>
          <div class="wishlist-description">
            <p>✨ やるべきことを追加してね！</p>
            <p class="wishlist-sub">
              キャラ育成、武器強化、素材集めなど自由に追加できます
            </p>
          </div>
          <div class="wishlist-items" id="wishlistItems"></div>
        </div>

        <!-- イベント -->
        <div class="content-panel" id="events-panel">
          <div class="panel-header">
            <h2>🎉 イベント</h2>
            <button class="btn-add" id="addEventBtn">+ 追加</button>
          </div>
          <div class="event-list" id="eventList"></div>
          <div class="api-events">
            <h3>🌐 自動取得イベント</h3>
            <button class="btn-refresh" id="refreshEventsBtn">更新</button>
            <div id="apiEventList"></div>
          </div>
        </div>

        <!-- アップデート前チェック -->
        <div class="content-panel" id="update-check-panel">
          <div class="panel-header">
            <h2>❓ アップデート前チェック</h2>
          </div>
          <div class="update-date-setting">
            <label>次回アプデ日時:</label>
            <input type="datetime-local" id="nextUpdateDate" />
            <button class="btn-save" id="saveUpdateDate">保存</button>
          </div>
          <div class="update-checklist" id="updateChecklist"></div>
        </div>
      </div>
    </div>

    <!-- イベント追加モーダル -->
    <div class="modal" id="eventModal">
      <div class="modal-content">
        <h3>🎉 イベント追加</h3>
        <input type="text" id="eventName" placeholder="イベント名" />
        <input type="datetime-local" id="eventStart" placeholder="開始日時" />
        <input type="datetime-local" id="eventEnd" placeholder="終了日時" />
        <input type="text" id="eventReward" placeholder="報酬（原石など）" />
        <div class="modal-buttons">
          <button class="btn-cancel" id="cancelEvent">キャンセル</button>
          <button class="btn-save" id="saveEvent">保存</button>
        </div>
      </div>
    </div>

    <!-- 新シーズン確認モーダル -->
    <div class="modal" id="seasonModal">
      <div class="modal-content">
        <h3>🔄 新シーズン開始</h3>
        <p style="margin-bottom: 20px; color: #a0a0a0">
          バトルパス進捗をリセットしますか？<br />（レベルと週間EXPが0になります）
        </p>
        <div class="modal-buttons">
          <button class="btn-cancel" id="cancelSeason">キャンセル</button>
          <button class="btn-save btn-danger" id="confirmSeason">
            リセット
          </button>
        </div>
      </div>
    </div>

    <!-- Wishlist追加モーダル -->
    <div class="modal" id="wishModal">
      <div class="modal-content">
        <h3>💟 Wishlist追加</h3>

        <!-- タブ切り替え -->
        <div class="wish-modal-tabs">
          <button class="wish-modal-tab active" data-tab="select">
            選択追加
          </button>
          <button class="wish-modal-tab" data-tab="manual">手動追加</button>
        </div>

        <!-- 選択追加 -->
        <div class="wish-tab-content active" id="wish-select-tab">
          <div class="wish-game-select">
            <label>ゲーム:</label>
            <select id="wishGameSelect">
              <option value="genshin">⚔️ 原神</option>
              <option value="zzz">🔫 ゼンゼロ</option>
              <option value="hsr">🚄 崩スタ</option>
            </select>
          </div>
          <div class="wish-category-select">
            <label>カテゴリ:</label>
            <select id="wishCategorySelect">
              <option value="daily">デイリータスク</option>
              <option value="weekly">ウィークリータスク</option>
              <option value="common">よくあるやりたいこと</option>
            </select>
          </div>
          <div class="wish-task-list" id="wishTaskSelectList"></div>
        </div>

        <!-- 手動追加 -->
        <div class="wish-tab-content" id="wish-manual-tab">
          <div class="wish-game-select">
            <label>ゲーム:</label>
            <select id="wishGameManual">
              <option value="genshin">⚔️ 原神</option>
              <option value="zzz">🔫 ゼンゼロ</option>
              <option value="hsr">🚄 崩スタ</option>
            </select>
          </div>
          <input
            type="text"
            id="wishManualTitle"
            placeholder="タイトル（例：雷電将軍を育成する）"
          />
          <textarea id="wishManualMemo" placeholder="メモ（任意）"></textarea>
          <div class="wish-deadline">
            <label
              ><input type="checkbox" id="wishHasDeadline" />
              期限を設定する</label
            >
            <input type="datetime-local" id="wishDeadline" disabled />
          </div>
        </div>

        <div class="modal-buttons">
          <button class="btn-cancel" id="cancelWish">キャンセル</button>
          <button class="btn-save" id="saveWish">追加</button>
        </div>
      </div>
    </div>
  </body>

  <script src="./script.js"></script>
</html>
