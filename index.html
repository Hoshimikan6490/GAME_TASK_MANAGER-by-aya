<!doctype html>
<html lang="ja">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>ゲームタスクマネージャー</title>

		<!-- ファビコン設定 -->
		<link
			rel="icon"
			type="image/png"
			href="https://png.pngtree.com/png-vector/20250214/ourlarge/pngtree-working-contract-3d-icon-employment-agreement-symbol-for-job-regulations-and-png-image_15473283.png"
		/>

		<link rel="stylesheet" href="./style.css" />
	</head>
	<body>
		<!-- 通知バナー -->
		<div id="notificationBanner" class="notification-banner hidden">
			<span id="notificationText"></span>
			<button class="close-btn" onclick="closeNotification()">×</button>
		</div>

		<!-- ヘッダー -->
		<header>
			<div class="header-content">
				<h1>ゲームタスクマネージャー</h1>
				<div class="streak-display">
					<span class="streak-icon">🔥</span>
					<div class="streak-info">
						<h3>連続達成日数</h3>
						<span class="streak-number" id="streakCount">0</span>
					</div>
				</div>
			</div>
		</header>

		<!-- 花火エフェクト用キャンバス -->
		<canvas id="fireworksCanvas"></canvas>

		<!-- コンボ表示 -->
		<div id="comboDisplay" class="combo-display hidden">
			<span class="combo-text"></span>
		</div>

		<!-- メインコンテンツ -->
		<main>
			<!-- タブナビゲーション -->
			<nav class="tab-nav">
				<button
					class="tab-btn active"
					data-game="zzz"
					onclick="switchTab('zzz')"
				>
					ゼンレスゾーンゼロ
				</button>
				<button class="tab-btn" data-game="hsr" onclick="switchTab('hsr')">
					崩壊スターレイル
				</button>
				<button
					class="tab-btn"
					data-game="genshin"
					onclick="switchTab('genshin')"
				>
					原神
				</button>
			</nav>

			<!-- ゼンレスゾーンゼロ タブ -->
			<div id="zzz-content" class="tab-content active" data-game="zzz">
				<!-- カウントダウンセクション -->
				<section class="countdown-section">
					<div class="countdown-card">
						<h3>デイリーリセットまで</h3>
						<div class="countdown-timer" id="zzz-daily-countdown">--:--:--</div>
					</div>
					<div class="countdown-card">
						<h3>ウィークリーリセットまで</h3>
						<div class="countdown-timer" id="zzz-weekly-countdown">
							--日--時間
						</div>
					</div>
				</section>

				<!-- プログレスセクション -->
				<section class="countdown-section">
					<div class="countdown-card">
						<div class="progress-info">
							<span>デイリー進捗</span>
							<span id="zzz-daily-progress">0/0</span>
						</div>
						<div class="progress-bar">
							<div
								class="progress-fill"
								id="zzz-daily-bar"
								style="width: 0%"
							></div>
						</div>
					</div>
					<div class="countdown-card">
						<div class="progress-info">
							<span>ウィークリー進捗</span>
							<span id="zzz-weekly-progress">0/0</span>
						</div>
						<div class="progress-bar">
							<div
								class="progress-fill"
								id="zzz-weekly-bar"
								style="width: 0%"
							></div>
						</div>
					</div>
				</section>

				<!-- 統計セクション -->
				<section class="stats-section">
					<div class="stat-card">
						<div class="stat-label">今週の完了率</div>
						<div class="stat-value" id="zzz-weekly-rate">0%</div>
					</div>
					<div class="stat-card">
						<div class="stat-label">今月の完了率</div>
						<div class="stat-value" id="zzz-monthly-rate">0%</div>
					</div>
					<div class="stat-card">
						<div class="stat-label">連続達成日数</div>
						<div class="stat-value" id="zzz-streak">0日</div>
					</div>
				</section>

				<!-- 統計グラフセクション -->
				<section class="charts-section">
					<h2>完了率統計グラフ</h2>
					<div class="charts-grid">
						<div class="chart-container">
							<h3>過去7日間の完了数</h3>
							<div class="chart-canvas">
								<canvas id="zzz-bar-chart"></canvas>
							</div>
						</div>
						<div class="chart-container">
							<h3>今日の完了率</h3>
							<div class="chart-canvas">
								<canvas id="zzz-pie-chart"></canvas>
							</div>
						</div>
						<div class="chart-container">
							<h3>過去30日間の完了率推移</h3>
							<div class="chart-canvas">
								<canvas id="zzz-line-chart"></canvas>
							</div>
						</div>
					</div>
				</section>

				<!-- 紀行セクション -->
				<section class="battlepass-section">
					<h2>紀行/バトルパス進捗</h2>
					<div class="battlepass-info">
						<div class="bp-stat">
							<label>週間上限EXP</label>
							<div class="bp-value">10,000</div>
						</div>
						<div class="bp-stat">
							<label>現在のレベル</label>
							<div class="bp-value" id="zzz-bp-level">1</div>
						</div>
						<div class="bp-stat">
							<label>今週の獲得EXP</label>
							<div class="bp-value" id="zzz-bp-exp">0 / 10,000</div>
						</div>
					</div>
					<div class="bp-controls">
						<input
							type="number"
							id="zzz-bp-level-input"
							placeholder="レベルを入力"
							min="1"
							max="50"
						/>
						<input
							type="number"
							id="zzz-bp-exp-input"
							placeholder="EXPを入力"
							min="0"
							max="10000"
						/>
						<button onclick="updateBattlePass('zzz')">更新</button>
					</div>
				</section>

				<!-- タスクセクション -->
				<section class="tasks-section">
					<div class="section-header">
						<h2>タスク管理</h2>
						<div class="section-actions">
							<button class="btn btn-primary" onclick="openAddTaskModal('zzz')">
								+ カスタムタスク追加
							</button>
							<button
								class="btn btn-reset"
								onclick="resetTasks('zzz', 'daily')"
							>
								デイリーリセット
							</button>
							<button class="btn btn-reset" onclick="resetTasks('zzz', 'all')">
								全リセット
							</button>
						</div>
					</div>

					<!-- タスクグリッド（2列） -->
					<div class="tasks-grid">
						<!-- デイリータスク（高優先度） -->
						<div class="task-category">
							<h3>デイリー（高優先度）</h3>
							<ul class="task-list" id="zzz-daily-high"></ul>
						</div>

						<!-- デイリータスク（余裕があれば） -->
						<div class="task-category">
							<h3>デイリー（余裕があれば）</h3>
							<ul class="task-list" id="zzz-daily-low"></ul>
						</div>

						<!-- ウィークリータスク -->
						<div class="task-category">
							<h3>ウィークリー</h3>
							<ul class="task-list" id="zzz-weekly"></ul>
						</div>

						<!-- 隔週タスク -->
						<div class="task-category">
							<h3>隔週</h3>
							<ul class="task-list" id="zzz-biweekly"></ul>
						</div>

						<!-- 毎月タスク -->
						<div class="task-category">
							<h3>毎月</h3>
							<ul class="task-list" id="zzz-monthly"></ul>
						</div>

						<!-- その他 -->
						<div class="task-category">
							<h3>その他</h3>
							<ul class="task-list" id="zzz-other"></ul>
						</div>
					</div>
				</section>
			</div>

			<!-- 崩壊スターレイル タブ -->
			<div id="hsr-content" class="tab-content" data-game="hsr">
				<!-- カウントダウンセクション -->
				<section class="countdown-section">
					<div class="countdown-card">
						<h3>デイリーリセットまで</h3>
						<div class="countdown-timer" id="hsr-daily-countdown">--:--:--</div>
					</div>
					<div class="countdown-card">
						<h3>ウィークリーリセットまで</h3>
						<div class="countdown-timer" id="hsr-weekly-countdown">
							--日--時間
						</div>
					</div>
				</section>

				<!-- プログレスセクション -->
				<section class="countdown-section">
					<div class="countdown-card">
						<div class="progress-info">
							<span>デイリー進捗</span>
							<span id="hsr-daily-progress">0/0</span>
						</div>
						<div class="progress-bar">
							<div
								class="progress-fill"
								id="hsr-daily-bar"
								style="width: 0%"
							></div>
						</div>
					</div>
					<div class="countdown-card">
						<div class="progress-info">
							<span>ウィークリー進捗</span>
							<span id="hsr-weekly-progress">0/0</span>
						</div>
						<div class="progress-bar">
							<div
								class="progress-fill"
								id="hsr-weekly-bar"
								style="width: 0%"
							></div>
						</div>
					</div>
				</section>

				<!-- 統計セクション -->
				<section class="stats-section">
					<div class="stat-card">
						<div class="stat-label">今週の完了率</div>
						<div class="stat-value" id="hsr-weekly-rate">0%</div>
					</div>
					<div class="stat-card">
						<div class="stat-label">今月の完了率</div>
						<div class="stat-value" id="hsr-monthly-rate">0%</div>
					</div>
					<div class="stat-card">
						<div class="stat-label">連続達成日数</div>
						<div class="stat-value" id="hsr-streak">0日</div>
					</div>
				</section>

				<!-- 統計グラフセクション -->
				<section class="charts-section">
					<h2>完了率統計グラフ</h2>
					<div class="charts-grid">
						<div class="chart-container">
							<h3>過去7日間の完了数</h3>
							<div class="chart-canvas">
								<canvas id="hsr-bar-chart"></canvas>
							</div>
						</div>
						<div class="chart-container">
							<h3>今日の完了率</h3>
							<div class="chart-canvas">
								<canvas id="hsr-pie-chart"></canvas>
							</div>
						</div>
						<div class="chart-container">
							<h3>過去30日間の完了率推移</h3>
							<div class="chart-canvas">
								<canvas id="hsr-line-chart"></canvas>
							</div>
						</div>
					</div>
				</section>

				<!-- 紀行セクション -->
				<section class="battlepass-section">
					<h2>紀行/バトルパス進捗</h2>
					<div class="battlepass-info">
						<div class="bp-stat">
							<label>週間上限EXP</label>
							<div class="bp-value">10,000</div>
						</div>
						<div class="bp-stat">
							<label>現在のレベル</label>
							<div class="bp-value" id="hsr-bp-level">1</div>
						</div>
						<div class="bp-stat">
							<label>今週の獲得EXP</label>
							<div class="bp-value" id="hsr-bp-exp">0 / 10,000</div>
						</div>
					</div>
					<div class="bp-controls">
						<input
							type="number"
							id="hsr-bp-level-input"
							placeholder="レベルを入力"
							min="1"
							max="50"
						/>
						<input
							type="number"
							id="hsr-bp-exp-input"
							placeholder="EXPを入力"
							min="0"
							max="10000"
						/>
						<button onclick="updateBattlePass('hsr')">更新</button>
					</div>
				</section>

				<!-- タスクセクション -->
				<section class="tasks-section">
					<div class="section-header">
						<h2>タスク管理</h2>
						<div class="section-actions">
							<button class="btn btn-primary" onclick="openAddTaskModal('hsr')">
								+ カスタムタスク追加
							</button>
							<button
								class="btn btn-reset"
								onclick="resetTasks('hsr', 'daily')"
							>
								デイリーリセット
							</button>
							<button class="btn btn-reset" onclick="resetTasks('hsr', 'all')">
								全リセット
							</button>
						</div>
					</div>

					<!-- タスクグリッド（2列） -->
					<div class="tasks-grid">
						<!-- デイリータスク -->
						<div class="task-category">
							<h3>デイリー</h3>
							<ul class="task-list" id="hsr-daily"></ul>
						</div>

						<!-- ウィークリータスク -->
						<div class="task-category">
							<h3>ウィークリー</h3>
							<ul class="task-list" id="hsr-weekly"></ul>
						</div>

						<!-- 毎月タスク -->
						<div class="task-category">
							<h3>毎月</h3>
							<ul class="task-list" id="hsr-monthly"></ul>
						</div>

						<!-- その他 -->
						<div class="task-category">
							<h3>その他</h3>
							<ul class="task-list" id="hsr-other"></ul>
						</div>
					</div>
				</section>
			</div>

			<!-- 原神 タブ -->
			<div id="genshin-content" class="tab-content" data-game="genshin">
				<!-- カウントダウンセクション -->
				<section class="countdown-section">
					<div class="countdown-card">
						<h3>デイリーリセットまで</h3>
						<div class="countdown-timer" id="genshin-daily-countdown">
							--:--:--
						</div>
					</div>
					<div class="countdown-card">
						<h3>ウィークリーリセットまで</h3>
						<div class="countdown-timer" id="genshin-weekly-countdown">
							--日--時間
						</div>
					</div>
				</section>

				<!-- プログレスセクション -->
				<section class="countdown-section">
					<div class="countdown-card">
						<div class="progress-info">
							<span>デイリー進捗</span>
							<span id="genshin-daily-progress">0/0</span>
						</div>
						<div class="progress-bar">
							<div
								class="progress-fill"
								id="genshin-daily-bar"
								style="width: 0%"
							></div>
						</div>
					</div>
					<div class="countdown-card">
						<div class="progress-info">
							<span>ウィークリー進捗</span>
							<span id="genshin-weekly-progress">0/0</span>
						</div>
						<div class="progress-bar">
							<div
								class="progress-fill"
								id="genshin-weekly-bar"
								style="width: 0%"
							></div>
						</div>
					</div>
				</section>

				<!-- 統計セクション -->
				<section class="stats-section">
					<div class="stat-card">
						<div class="stat-label">今週の完了率</div>
						<div class="stat-value" id="genshin-weekly-rate">0%</div>
					</div>
					<div class="stat-card">
						<div class="stat-label">今月の完了率</div>
						<div class="stat-value" id="genshin-monthly-rate">0%</div>
					</div>
					<div class="stat-card">
						<div class="stat-label">連続達成日数</div>
						<div class="stat-value" id="genshin-streak">0日</div>
					</div>
				</section>

				<!-- 統計グラフセクション -->
				<section class="charts-section">
					<h2>完了率統計グラフ</h2>
					<div class="charts-grid">
						<div class="chart-container">
							<h3>過去7日間の完了数</h3>
							<div class="chart-canvas">
								<canvas id="genshin-bar-chart"></canvas>
							</div>
						</div>
						<div class="chart-container">
							<h3>今日の完了率</h3>
							<div class="chart-canvas">
								<canvas id="genshin-pie-chart"></canvas>
							</div>
						</div>
						<div class="chart-container">
							<h3>過去30日間の完了率推移</h3>
							<div class="chart-canvas">
								<canvas id="genshin-line-chart"></canvas>
							</div>
						</div>
					</div>
				</section>

				<!-- 紀行セクション -->
				<section class="battlepass-section">
					<h2>紀行/バトルパス進捗</h2>
					<div class="battlepass-info">
						<div class="bp-stat">
							<label>週間上限EXP</label>
							<div class="bp-value">10,000</div>
						</div>
						<div class="bp-stat">
							<label>現在のレベル</label>
							<div class="bp-value" id="genshin-bp-level">1</div>
						</div>
						<div class="bp-stat">
							<label>今週の獲得EXP</label>
							<div class="bp-value" id="genshin-bp-exp">0 / 10,000</div>
						</div>
					</div>
					<div class="bp-controls">
						<input
							type="number"
							id="genshin-bp-level-input"
							placeholder="レベルを入力"
							min="1"
							max="50"
						/>
						<input
							type="number"
							id="genshin-bp-exp-input"
							placeholder="EXPを入力"
							min="0"
							max="10000"
						/>
						<button onclick="updateBattlePass('genshin')">更新</button>
					</div>
				</section>

				<!-- タスクセクション -->
				<section class="tasks-section">
					<div class="section-header">
						<h2>タスク管理</h2>
						<div class="section-actions">
							<button
								class="btn btn-primary"
								onclick="openAddTaskModal('genshin')"
							>
								+ カスタムタスク追加
							</button>
							<button
								class="btn btn-reset"
								onclick="resetTasks('genshin', 'daily')"
							>
								デイリーリセット
							</button>
							<button
								class="btn btn-reset"
								onclick="resetTasks('genshin', 'all')"
							>
								全リセット
							</button>
						</div>
					</div>

					<!-- タスクグリッド（2列） -->
					<div class="tasks-grid">
						<!-- デイリータスク（高優先度） -->
						<div class="task-category">
							<h3>デイリー（高優先度）</h3>
							<ul class="task-list" id="genshin-daily-high"></ul>
						</div>

						<!-- デイリータスク（中優先度） -->
						<div class="task-category">
							<h3>デイリー（中優先度）</h3>
							<ul class="task-list" id="genshin-daily-medium"></ul>
						</div>

						<!-- デイリータスク（低優先度） -->
						<div class="task-category">
							<h3>デイリー（低優先度）</h3>
							<ul class="task-list" id="genshin-daily-low"></ul>
						</div>

						<!-- ウィークリータスク -->
						<div class="task-category">
							<h3>ウィークリー</h3>
							<ul class="task-list" id="genshin-weekly"></ul>
						</div>

						<!-- 毎月タスク -->
						<div class="task-category">
							<h3>毎月</h3>
							<ul class="task-list" id="genshin-monthly"></ul>
						</div>

						<!-- 季節イベント -->
						<div class="task-category">
							<h3>季節イベント</h3>
							<ul class="task-list" id="genshin-season"></ul>
						</div>
					</div>
				</section>
			</div>
		</main>

		<!-- カスタムタスク追加モーダル -->
		<div id="addTaskModal" class="modal">
			<div class="modal-content">
				<div class="modal-header">
					<h2>カスタムタスク追加</h2>
					<button class="modal-close" onclick="closeAddTaskModal()">×</button>
				</div>
				<form id="addTaskForm" onsubmit="addCustomTask(event)">
					<div class="form-group">
						<label for="taskName">タスク名</label>
						<input type="text" id="taskName" required />
					</div>
					<div class="form-group">
						<label for="taskCategory">カテゴリ</label>
						<select id="taskCategory" required>
							<option value="">選択してください</option>
						</select>
					</div>
					<div class="form-group">
						<label for="taskPriority">優先度</label>
						<select id="taskPriority">
							<option value="high">高</option>
							<option value="medium" selected>中</option>
							<option value="low">低</option>
						</select>
					</div>
					<div class="form-actions">
						<button type="button" class="btn" onclick="closeAddTaskModal()">
							キャンセル
						</button>
						<button type="submit" class="btn btn-primary">追加</button>
					</div>
				</form>
			</div>
		</div>

		<!-- 月次統計モーダル -->
		<div id="statsModal" class="modal">
			<div class="modal-content">
				<div class="modal-header">
					<h2>月次統計レポート</h2>
					<button class="modal-close" onclick="closeStatsModal()">×</button>
				</div>
				<div class="stats-grid">
					<div class="stat-box">
						<h4>完了タスク数</h4>
						<div class="value" id="stats-completed">0</div>
					</div>
					<div class="stat-box">
						<h4>総タスク数</h4>
						<div class="value" id="stats-total">0</div>
					</div>
					<div class="stat-box">
						<h4>完了率</h4>
						<div class="value" id="stats-rate">0%</div>
					</div>
					<div class="stat-box">
						<h4>最長連続達成</h4>
						<div class="value" id="stats-max-streak">0日</div>
					</div>
				</div>
				<div class="form-actions">
					<button class="btn btn-primary" onclick="closeStatsModal()">
						閉じる
					</button>
				</div>
			</div>
		</div>

		<!-- Chart.js CDN -->
		<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
		<!-- JavaScriptファイル読み込み -->
		<script src="./app.js"></script>
	</body>
</html>
