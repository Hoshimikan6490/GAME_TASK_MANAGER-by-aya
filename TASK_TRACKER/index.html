<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ZZZ Task Tracker</title>
    <link rel="icon" href="https://i.imgur.com/HUirGQ6.gif" type="image/gif">
    <link rel="stylesheet" href="css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Murecho:wght@400;500;700;900&family=Orbitron:wght@400;700;900&display=swap" rel="stylesheet">
</head>
<body>
    <!-- 通知バナー -->
    <div id="notification-banner" class="notification-banner hidden">
        <span id="notification-text"></span>
        <button id="notification-close" class="notification-close">×</button>
    </div>

    <!-- メインコンテナ -->
    <div class="main-container">
        <!-- ヘッダー -->
        <header class="header">
            <div class="header-left">
                <img src="https://i.imgur.com/HUirGQ6.gif" alt="ZZZ" class="header-icon">
                <h1 class="header-title">TASK TRACKER</h1>
            </div>
            <div class="header-right">
                <div class="countdown-container">
                    <div class="countdown-item">
                        <span class="countdown-label">ウィークリー</span>
                        <span id="weekly-countdown" class="countdown-value">----</span>
                    </div>
                    <div class="countdown-item">
                        <span class="countdown-label">隔週</span>
                        <span id="biweekly-countdown" class="countdown-value">----</span>
                    </div>
                    <div class="countdown-item">
                        <span class="countdown-label">毎月</span>
                        <span id="monthly-countdown" class="countdown-value">----</span>
                    </div>
                </div>
            </div>
        </header>

        <!-- バトルパスセクション -->
        <section class="battlepass-section">
            <div class="battlepass-header">
                <h2 class="section-title">
                    <img src="https://act-upload.hoyoverse.com/event-ugc-hoyowiki/2025/12/30/59155606/61787b38b58776826be6b00d8385f9be_1459314971479821507.png?x-oss-process=image%2Fformat%2Cwebp" alt="BP" class="bp-title-icon">
                    エリートファンド
                </h2>
                <button id="bp-reset-btn" class="btn-small">リセット</button>
            </div>
            <div class="battlepass-content">
                <div class="bp-level">
                    <span>Lv.</span>
                    <input type="number" id="bp-level" min="0" max="60" value="0">
                    <span>/ 60</span>
                </div>
                <div class="bp-gauge-container">
                    <div id="bp-gauge" class="bp-gauge"></div>
                </div>
                <div class="bp-exp">
                    <span>EXP:</span>
                    <input type="number" id="bp-exp" min="0" max="800" value="0">
                    <span>/ 800</span>
                </div>
            </div>
        </section>


        <!-- タブナビゲーション -->
        <nav class="tab-navigation">
            <button class="tab-btn active" data-tab="daily">デイリー</button>
            <button class="tab-btn" data-tab="weekly">ウィークリー</button>
            <button class="tab-btn" data-tab="biweekly">隔週</button>
            <button class="tab-btn" data-tab="monthly">毎月</button>
            <button class="tab-btn" data-tab="event">イベント</button>
            <button class="tab-btn" data-tab="wishlist">Wishlist</button>
            <button class="tab-btn" data-tab="settings">設定</button>
        </nav>

        <!-- タスクコンテンツ -->
        <main class="task-content">
            <!-- デイリータスク -->
            <div id="daily-tab" class="tab-panel active">
                <div class="task-list" id="daily-tasks"></div>
            </div>

            <!-- ウィークリータスク -->
            <div id="weekly-tab" class="tab-panel">
                <div class="task-list" id="weekly-tasks"></div>
            </div>

            <!-- 隔週タスク -->
            <div id="biweekly-tab" class="tab-panel">
                <div class="task-list" id="biweekly-tasks"></div>
            </div>

            <!-- 毎月タスク -->
            <div id="monthly-tab" class="tab-panel">
                <div class="task-list" id="monthly-tasks"></div>
            </div>

            <!-- イベントタブ -->
            <div id="event-tab" class="tab-panel">
                <h3 class="panel-title">現在のイベント</h3>
                <div class="event-timeline">
                    <iframe src="https://zzz.rng.moe/en/timeline" width="100%" height="500" frameborder="0"></iframe>
                </div>
                <h3 class="panel-title">手動追加イベント</h3>
                <div class="task-list" id="event-tasks"></div>
                <div class="add-event-form">
                    <input type="text" id="event-name" placeholder="イベント名">
                    <input type="datetime-local" id="event-end">
                    <button id="add-event-btn" class="btn-primary">追加</button>
                </div>
            </div>

            <!-- Wishlistタブ -->
            <div id="wishlist-tab" class="tab-panel">
                <div class="wishlist-header">
                    <p class="wishlist-hint" id="wishlist-hint">やるべきことを追加してね！</p>
                </div>
                <div class="task-list" id="wishlist-tasks"></div>
                <div class="add-wishlist-form">
                    <select id="wishlist-preset">
                        <option value="">-- プリセットから選択 --</option>
                        <option value="素材周回">素材周回</option>
                        <option value="キャラ育成">キャラ育成</option>
                        <option value="音動機チューニング">音動機チューニング</option>
                        <option value="ドライバ厳選">ドライバ厳選</option>
                        <option value="ストーリー進行">ストーリー進行</option>
                    </select>
                    <input type="text" id="wishlist-custom" placeholder="または手動で入力">
                    <button id="add-wishlist-btn" class="btn-primary">追加</button>
                </div>
            </div>

            <!-- 設定タブ -->
            <div id="settings-tab" class="tab-panel">
                <div class="settings-group">
                    <h3>リセット日設定</h3>
                    <div class="setting-item">
                        <label>バージョン開始日:</label>
                        <input type="date" id="version-start-date">
                    </div>
                    <div class="setting-item">
                        <label>式輿防衛戦 次回リセット:</label>
                        <input type="date" id="shiyu-reset-date">
                    </div>
                </div>
                <div class="settings-group">
                    <h3>通知設定</h3>
                    <div class="setting-item">
                        <label>
                            <input type="checkbox" id="enable-notifications" checked>
                            ブラウザ通知を有効化
                        </label>
                    </div>
                    <button id="test-notification-btn" class="btn-secondary">通知テスト</button>
                </div>
                <div class="settings-group">
                    <h3>データ管理</h3>
                    <button id="export-data-btn" class="btn-secondary">データをエクスポート</button>
                    <button id="import-data-btn" class="btn-secondary">データをインポート</button>
                    <input type="file" id="import-file" accept=".json" hidden>
                    <button id="reset-all-btn" class="btn-danger">全データリセット</button>
                </div>
            </div>
        </main>

<!-- ポリクローム累計表示（右上） -->
<div class="polychrome-counter">
    <img src="https://act-upload.hoyoverse.com/event-ugc-hoyowiki/2025/01/22/59155606/b796be09d9ccafa4967bbbffec346ab9_7135762795127262940.png?x-oss-process=image%2Fformat%2Cwebp" alt="Polychrome" class="polychrome-icon">
    <span id="polychrome-total">0</span>
</div>



        <!-- フッター -->
        <footer class="footer">
            <p>現在のバージョン: <span id="current-version">Ver 2.5</span> | 
               期間: <span id="version-period">2025/12/30 - 2026/02/05</span></p>
        </footer>
    </div>

    <!-- 報酬詳細モーダル -->
    <div id="reward-modal" class="modal hidden">
        <div class="modal-content">
            <button class="modal-close">×</button>
            <h3 id="modal-title">報酬詳細</h3>
            <div id="modal-body"></div>
        </div>
    </div>

    <script src="js/app.js"></script>
</body>
</html>
